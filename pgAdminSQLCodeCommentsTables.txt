-- Creating tables for PH-EmployeeDB
CREATE TABLE departments (
     dept_no VARCHAR(4) NOT NULL,
     dept_name VARCHAR(40) NOT NULL,
     PRIMARY KEY (dept_no),
     UNIQUE (dept_name)
);

-- Notes on creating your first table above: 
-- create table, departments, has 2 columns (dept_no and dept_name)
-- these columns have the data type of varchar = varying characters
-- dept_no has a varchar limit of 4 characters and dept_name has one of 40 
-- the primary key is the dept_no, and that is what we use to index the data
-- we also have to say that the primary key is unique so that we don't get 
-- duplicates of our primary indexing key 

-- Tip: Click the F5 key to quick run infomration
-- We include the NOT NULL constraint to limit dirty data
-- Dirty Data = data with errors and inconsistencies 

-- Creating a New Table for PH_EmployeesDB 
CREATE TABLE employees (
	emp_no INT NOT NULL, 
	birth_date DATE NOT NULL, 
	first_name VARCHAR NOT NULL, 
	last_name VARCHAR NOT NULL, 
	gender VARCHAR NOT NULL, 
	hire_date DATE NOT NULL, 
	PRIMARY KEY(emp_no)
);

-- This is why we made the flow chart, so we know what charts we need to make in the pgAdmin
-- Because of our handy dandy screenshot of the flowchart, we know that 
-- the employees table should include 6 columns and their varying datatypes
-- DONT FORGET THE SEMICOLON AFTER YOUR CODE!!! 

-- Create the dept_manager table 
CREATE TABLE dept_manager (
dept_no VARCHAR(4) NOT NULL, 
	emp_no INT NOT NULL, 
	from_date DATE NOT NULL, 
	to_date DATE NOT NULL, 
FOREIGN KEY (emp_no) REFERENCES employees (emp_no), 
FOREIGN KEY (dept_no) REFERENCES departments (dept_no), 
	PRIMARY KEY (emp_no, dept_no)
);

-- NOTES ON THE dept_manager TABLE ABOVE: 
-- the FOREIGN KEY constraing tessl Postgres that there is a link between two tables 
-- The parentheses following FORIEGN KEY specify which of the current table's columns is linked to another tbale 
-- REFERNCES table_name(column_name) tells Postgres which other table uses that column as a primary key 
-- QUESITON: WHY DOES THIS HAVE TWO FOREIGN KEYS??? ABOVE

CREATE TABLE salaries (
  emp_no INT NOT NULL,
  salary INT NOT NULL,
  from_date DATE NOT NULL,
  to_date DATE NOT NULL,
  FOREIGN KEY (emp_no) REFERENCES employees (emp_no),
  PRIMARY KEY (emp_no)
);

-- STOPPED AT SKILL DRILL ON 7.2.2 CREATE TABLES IN SQL
CREATE TABLE dept_emp ( 
	emp_no INT NOT NULL, 
	dept_no VARCHAR(4) NOT NULL,
	from_date DATE NOT NULL, 
	to_date DATE NOT NULL,
FOREIGN KEY (emp_no) REFERENCES employees (emp_no), 
FOREIGN KEY (dept_no) REFERENCES departments (dept_no), 
	PRIMARY KEY (emp_no, dept_no)
);

CREATE TABLE titles (
	emp_no INT NOT NULL,
  	title VARCHAR(40) NOT NULL,
  	from_date DATE NOT NULL,
  	to_date DATE NOT NULL,
	FOREIGN KEY (emp_no) REFERENCES employees (emp_no),
  PRIMARY KEY (emp_no)
)

-- Does indention matter? How do we know what the foriegn keya dn references are? 
-- After running the code above, we have successefully made the tables that we will want to pull the csv files into 




